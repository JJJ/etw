{"version":3,"sources":["wc-square-digital-wallet.min.js"],"names":["_classCallCheck","instance","Constructor","TypeError","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","protoProps","staticProps","prototype","indexOf","jQuery","document","ready","$","window","WC_Square_Digital_Wallet_Handler","args","this","get_form_params","bind","get_payment_request","recalculate_totals","process_digital_wallet_checkout","payment_request","wallet","buttons","hide","build_digital_wallet","attach_page_events","value","_this","block_ui","then","response","parseJSON","load_square_form","unblock_ui","log","message","addToCartButton","_this2","context","on","e","is","stopImmediatePropagation","alert","wc_add_to_cart_variation_params","i18n_unavailable_text","i18n_make_a_selection_text","add_to_cart","body","payment_form","destroy","SqPaymentForm","build","params","_this3","applicationId","application_id","locationId","location_id","autobuild","applePay","elementId","googlePay","callbacks","paymentFormLoaded","createPaymentRequest","create_payment_request","methodsSupported","methods","unsupportedReason","methods_supported","shippingContactChanged","shippingContact","done","handle_shipping_address_changed","shippingOptionChanged","shippingOption","handle_shipping_option_changed","cardNonceResponseReceived","errors","nonce","cardData","billingContact","handle_card_nonce_response","requestShippingAddress","call","hide_button_options","show","_this4","Promise","resolve","reject","data","product_data","security","payment_request_nonce","get_product_data","extend","post","get_ajax_url","success","shipping_contact","recalculate_totals_nonce","error","shipping_option","id","_this5","render_errors","action","_wpnonce","process_checkout_nonce","billing_first_name","givenName","billing_last_name","familyName","billing_company","billing_email","email","billing_phone","phone","billing_country","country","toUpperCase","billing_address_1","addressLines","billing_address_2","billing_city","city","billing_state","region","billing_postcode","postalCode","shipping_first_name","shipping_last_name","shipping_company","shipping_country","shipping_address_1","shipping_address_2","shipping_city","shipping_state","shipping_postcode","shipping_method","order_comments","payment_method","ship_to_different_address","terms","wc-square-credit-card-payment-nonce","wc-square-credit-card-last-four","last_4","wc-square-credit-card-exp-month","exp_month","wc-square-credit-card-exp-year","exp_year","wc-square-credit-card-payment-postcode","billing_postal_code","wc-square-digital-wallet-type","digital_wallet_type","split","slice","join","location","redirect","render_errors_html","messages","general_error","_this6","attributes","product_id","val","find","each","index","select","attribute_name","attr","quantity","_this7","add_to_cart_nonce","_this8","result","request","ajax_url","replace","errors_html","element","remove","closest","before","animate","scrollTop","offset","top","error_message_html","block","overlayCSS","background","opacity","unblock","type","arguments","undefined","logging_enabled","console"],"mappings":"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","file":"wc-square-digital-wallet.min.js"}