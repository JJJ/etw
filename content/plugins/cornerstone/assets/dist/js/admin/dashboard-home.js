var dashboardHome=function(e){var t={};function a(o){if(t[o]){return t[o].exports}var n=t[o]={i:o,l:false,exports:{}};e[o].call(n.exports,n,n.exports,a);n.l=true;return n.exports}a.m=e;a.c=t;a.d=function(e,t,o){if(!a.o(e,t)){Object.defineProperty(e,t,{configurable:false,enumerable:true,get:o})}};a.n=function(e){var t=e&&e.__esModule?function t(){return e["default"]}:function t(){return e};a.d(t,"a",t);return t};a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};a.p="";return a(a.s=1)}([function(e,t){e.exports=window.tco},function(e,t,a){"use strict";var o=a(2);var n=f(o);var r=a(3);var i=f(r);var c=a(5);var s=f(c);var l=a(0);var u=f(l);function f(e){return e&&e.__esModule?e:{default:e}}var d=window.csDashboardHomeData;u.default.addDataSource(d);u.default.addModule("cs-updates",n.default);u.default.addModule("cs-validation",i.default);u.default.addModule("cs-validation-revoke",s.default);(function(){if(!d.modules||!d.notices){return}for(var e in d.modules){var t=d.modules[e];if(t.notices){for(var a in t.notices){if(-1!==d.notices.indexOf(a)){u.default.showNotice(t.notices[a])}}}}})()},function(e,t,a){"use strict";var o=a(0);var n=r(o);function r(e){return e&&e.__esModule?e:{default:e}}e.exports=function(e,t,a){var o=t["check-now"]||false,r=t["latest-available"]||false;if(!o||!r){return}if(a.latest){r.html(a.latest)}o.find("a").click(function(e){e.preventDefault();o.html(a.checking);n.default.ajax({action:"cs_update_check",_cs_nonce:window.csDashboardHomeData._cs_nonce,done:function e(t){if(t.latest&&t.latest!==a.latest){o.html(a.completeNew);r.html(t.latest)}else{o.html(a.complete)}},fail:function e(t){console.warn("Cornerstone Update Check Error",t);o.html(a.error)}})})}},function(e,t,a){"use strict";var o=a(4);var n=c(o);var r=a(0);var i=c(r);function c(e){return e&&e.__esModule?e:{default:e}}e.exports=function(e,t,a){var o=t.message||false,r=t.button||false,c=t.overlay||false,s=t.input||false,l=t.form||false,u=t["preload-key"]||false;if(!o||!r||!c||!s||!l||!u){return}l.on("submit",function(t){t.preventDefault();s.prop("disabled",true);e.tcoShowMessage(a.verifying);i.default.ajax({action:"cs_validation",code:s.val(),_cs_nonce:window.csDashboardHomeData._cs_nonce,done:d,fail:p})});var f=u.val();if("string"===typeof f&&f.length>1){s.val(f);l.submit()}function d(t){if(!t.message){return p(t)}if(t.complete){e.tcoShowMessage(t.message);setTimeout(m,2500)}else{v(t)}}function v(t){o.html(t.message);r.html(t.button);var a=650;setTimeout(function(){e.tcoShowMessage("")},a*2);setTimeout(function(){c.addClass("tco-active")},a*3);if(t.url){r.attr("href",t.url);if(t.newTab){r.attr("target","_blank")}}else{r.attr("href","#")}r.off("click");if(t.dismiss){r.click(function(){c.removeClass("tco-active");e.tcoRemoveMessage();setTimeout(function(){s.val("").prop("disabled",false)},a*2)})}}function m(){var e=i.default.queryString.parse(window.location.search);delete e["tco-key"];e.notice="validation-complete";window.location.search=i.default.queryString.stringify(e)}function p(e){var t=e.message?e.message:e;if(t.responseText){t=t.responseText}v({message:a.error,button:a.errorButton,dismiss:true});o.find("[data-tco-error-details]").click(function(e){e.preventDefault();i.default.confirm({message:t,acceptBtn:"",declineBtn:a.errorButton,class:"tco-confirm-error"})});console.log(e)}(0,n.default)("body").on("click",'a[data-tco-focus="validation-input"]',function(e){e.preventDefault();s.focus()})}},function(e,t){e.exports=window.jQuery},function(e,t,a){"use strict";var o=a(0);var n=r(o);function r(e){return e&&e.__esModule?e:{default:e}}e.exports=function(e,t,a){var o=t.revoke||false;if(!o){return}o.click(function(){n.default.confirm({message:a.confirm,acceptClass:"tco-btn-nope",acceptBtn:a.accept,declineBtn:a.decline,accept:function e(){o.removeAttr("href");o.html(a.revoking);n.default.ajax({action:"cs_validation_revoke",done:r,fail:r,_cs_nonce:window.csDashboardHomeData._cs_nonce})}})});function r(){var e=n.default.queryString.parse(n.default.queryString.extract(window.location.href));delete e["tco-key"];e.notice="validation-revoked";window.location.search=n.default.queryString.stringify(e)}}}]);
//# sourceMappingURL=dashboard-home.js.map